{"meta":{"title":"陆刚的博客","subtitle":null,"description":null,"author":"Danile","url":"https://luyuzeee.github.io"},"pages":[{"title":"404","date":"2017-12-05T02:08:05.000Z","updated":"2017-12-05T02:08:05.152Z","comments":true,"path":"404/index.html","permalink":"https://luyuzeee.github.io/404/index.html","excerpt":"","text":""},{"title":"分类","date":"2017-10-22T02:54:39.000Z","updated":"2017-12-05T02:44:01.193Z","comments":false,"path":"categories/index.html","permalink":"https://luyuzeee.github.io/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2017-10-22T02:54:24.000Z","updated":"2017-12-05T02:43:46.271Z","comments":false,"path":"tags/index.html","permalink":"https://luyuzeee.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"placeholder兼容问题","slug":"placeholder兼容问题","date":"2017-07-13T12:46:25.000Z","updated":"2017-12-05T03:12:33.564Z","comments":true,"path":"2017/07/13/placeholder兼容问题/","link":"","permalink":"https://luyuzeee.github.io/2017/07/13/placeholder兼容问题/","excerpt":"","text":"以下是angularJs的兼容，运用指令和IE兼容starterDirective.directive(‘placeholder’, [‘$compile’, function($compile) { return { restrict: ‘A’, scope: {}, link: function(scope, ele, attr) { console.log(ele.position().top); var input = document.createElement(‘input’); var isSupportPlaceholder = ‘placeholder’ in input; if(!isSupportPlaceholder) { var fakePlaceholder = angular.element( ‘‘ + attr[‘placeholder’] + ‘‘); fakePlaceholder.on(‘click’, function(e) { e.stopPropagation(); ele.focus(); }); fakePlaceholder.css({ ‘text-align’: ‘left’, ‘line-height’: ‘34px’ }); scope.getElementPosition = function() { return ele.position(); }; scope.$watch(scope.getElementPosition, function() { fakePlaceholder.css({ ‘top’: ele.position().top + ‘px’, ‘left’: ele.position().left + ‘px’ }); }, true); scope.getElementHeight = function() { return ele.outerHeight(); }; scope.$watch(scope.getElementHeight, function() { fakePlaceholder.css(‘height’, ele.outerHeight() + ‘px’); }); if(ele.css(‘font-size’)) { fakePlaceholder.css(‘font-size’, ele.css(‘font-size’)); } if(ele.css(‘width’)) { fakePlaceholder.css(‘width’, ele.css(‘width’)); } if(ele.css(‘text-indent’)) { fakePlaceholder.css(‘text-indent’, parseInt(ele.css(‘text-indent’)) + parseInt(ele.css(‘border-left-width’)) ); } if(ele.css(‘padding-left’)) { fakePlaceholder.css(‘padding-left’, ele.css(‘padding-left’)); } if(ele.css(‘margin-top’)) { fakePlaceholder.css(‘margin-top’, ele.css(‘margin-top’)); } ele.before(fakePlaceholder); $compile(fakePlaceholder)(scope); ele.on(‘focus’, function() { fakePlaceholder.hide(); }).on(‘blur’, function() { if(ele.val() === ‘’) { fakePlaceholder.show(); } }); scope.isElementVisible = function() { return ele.is(‘:visible’); }; scope.$watch(scope.isElementVisible, function() { var displayVal = ele.is(‘:visible’) ? ‘block’ : ‘none’; fakePlaceholder.css(‘display’, displayVal); if(displayVal === ‘blcok’ &amp;&amp; ele.val()) { fakePlaceholder.hide(); } }); scope.hasValue = function() { return ele.val(); }; scope.$watch(scope.hasValue, function() { if(ele.val()) { fakePlaceholder.hide(); } }); } } };}]); &lt;!–[if lte IE 9]&gt; &lt;script&gt; $(function(){ /placeholder兼容/ $(‘[placeholder]’).each(function(){ var defaultvalue=$(this).attr(“placeholder”); var altercss=$(this).attr(“altercss”); if($.trim($(this).val())===’’){ $(this).val(defaultvalue); if(altercss){$(this).addClass(altercss);} } $(this).focus(function(){ if($(this).val()==defaultvalue){ $(this).val(‘’); if(altercss){$(this).removeClass(altercss);} } }).blur(function(){ if($.trim($(this).val())===’’){ $(this).val(defaultvalue); if(altercss){$(this).addClass(altercss);} } }); }); }); &lt;/script&gt; &lt;![endif]–&gt; 以上有自己工作总结，欢迎广大群众提意见。真诚向您学习！！！！！！","categories":[{"name":"兼容，placeholder","slug":"兼容，placeholder","permalink":"https://luyuzeee.github.io/categories/兼容，placeholder/"}],"tags":[{"name":"兼容，placeholder，angularJs，IE","slug":"兼容，placeholder，angularJs，IE","permalink":"https://luyuzeee.github.io/tags/兼容，placeholder，angularJs，IE/"}]}]}